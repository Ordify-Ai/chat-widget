<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ordify Chat Widget - Test Page</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/tailwindcss@3.3.6/lib/tailwind.min.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 0;
        }
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .config-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .config-input {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin: 5px 0;
        }
        .config-button {
            background: #007bff;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin: 10px 5px 10px 0;
        }
        .config-button:hover {
            background: #0056b3;
        }
        .example-section {
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .chat-demo {
            border: 2px dashed #ccc;
            padding: 20px;
            text-align: center;
            background: #f9f9f9;
            border-radius: 8px;
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        function TestPage() {
            const [config, setConfig] = useState({
                agentId: '',
                apiKey: '',
                apiBaseUrl: 'https://api.ordify.ai'
            });
            const [isConfigured, setIsConfigured] = useState(false);

            useEffect(() => {
                // Load saved config from localStorage
                const saved = localStorage.getItem('ordify-test-config');
                if (saved) {
                    const parsed = JSON.parse(saved);
                    setConfig(parsed);
                    setIsConfigured(true);
                }
            }, []);

            const handleConfigChange = (field, value) => {
                const newConfig = { ...config, [field]: value };
                setConfig(newConfig);
            };

            const saveConfig = () => {
                localStorage.setItem('ordify-test-config', JSON.stringify(config));
                setIsConfigured(true);
                alert('Configuration saved! You can now test the chat widget.');
            };

            const clearConfig = () => {
                localStorage.removeItem('ordify-test-config');
                setConfig({ agentId: '', apiKey: '', apiBaseUrl: 'https://api.ordify.ai' });
                setIsConfigured(false);
            };

            return (
                <div className="test-container">
                    <h1 className="text-3xl font-bold text-gray-900 mb-8">
                        Ordify Chat Widget - Test Page
                    </h1>
                    
                    {/* Configuration Section */}
                    <div className="config-section">
                        <h2 className="text-xl font-semibold mb-4">Configuration</h2>
                        <p className="text-gray-600 mb-4">
                            Enter your Ordify credentials to test the chat widget. Your configuration will be saved locally.
                        </p>
                        
                        <div>
                            <label className="block text-sm font-medium text-gray-700 mb-1">
                                Agent ID:
                            </label>
                            <input
                                type="text"
                                className="config-input"
                                value={config.agentId}
                                onChange={(e) => handleConfigChange('agentId', e.target.value)}
                                placeholder="Enter your agent ID"
                            />
                        </div>
                        
                        <div>
                            <label className="block text-sm font-medium text-gray-700 mb-1">
                                API Key:
                            </label>
                            <input
                                type="password"
                                className="config-input"
                                value={config.apiKey}
                                onChange={(e) => handleConfigChange('apiKey', e.target.value)}
                                placeholder="Enter your API key"
                            />
                        </div>
                        
                        <div>
                            <label className="block text-sm font-medium text-gray-700 mb-1">
                                API Base URL:
                            </label>
                            <input
                                type="text"
                                className="config-input"
                                value={config.apiBaseUrl}
                                onChange={(e) => handleConfigChange('apiBaseUrl', e.target.value)}
                                placeholder="https://api.ordify.ai"
                            />
                        </div>
                        
                        <div>
                            <button className="config-button" onClick={saveConfig}>
                                Save Configuration
                            </button>
                            <button className="config-button" onClick={clearConfig} style={{background: '#dc3545'}}>
                                Clear Configuration
                            </button>
                        </div>
                        
                        {isConfigured && (
                            <div className="mt-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded">
                                âœ… Configuration saved! You can now test the chat widgets below.
                            </div>
                        )}
                    </div>

                    {!isConfigured ? (
                        <div className="text-center text-gray-500 py-8">
                            Please configure your credentials above to test the chat widgets.
                        </div>
                    ) : (
                        <div>
                            {/* Floating Chat Example */}
                            <div className="example-section">
                                <h2 className="text-xl font-semibold mb-4">Floating Chat</h2>
                                <p className="text-gray-600 mb-4">
                                    A floating chat button that appears in the bottom-right corner.
                                </p>
                                <div className="chat-demo">
                                    <div>
                                        <p className="text-gray-500 mb-2">Floating chat button will appear in the bottom-right corner</p>
                                        <p className="text-sm text-gray-400">
                                            Note: In a real implementation, you would include the Ordify Chat Widget script here.
                                        </p>
                                    </div>
                                </div>
                            </div>

                            {/* Embedded Chat Example */}
                            <div className="example-section">
                                <h2 className="text-xl font-semibold mb-4">Embedded Chat</h2>
                                <p className="text-gray-600 mb-4">
                                    A full-page chat interface embedded in your content.
                                </p>
                                <div className="chat-demo">
                                    <div>
                                        <p className="text-gray-500 mb-2">Embedded chat interface would appear here</p>
                                        <p className="text-sm text-gray-400">
                                            Height: 400px, Full-width chat interface
                                        </p>
                                    </div>
                                </div>
                            </div>

                            {/* Inline Chat Example */}
                            <div className="example-section">
                                <h2 className="text-xl font-semibold mb-4">Inline Chat</h2>
                                <p className="text-gray-600 mb-4">
                                    A chat widget that fits inline with your content.
                                </p>
                                <div className="chat-demo">
                                    <div>
                                        <p className="text-gray-500 mb-2">Inline chat widget would appear here</p>
                                        <p className="text-sm text-gray-400">
                                            Perfect for sidebars, documentation, or content areas
                                        </p>
                                    </div>
                                </div>
                            </div>

                            {/* Modal Chat Example */}
                            <div className="example-section">
                                <h2 className="text-xl font-semibold mb-4">Modal Chat</h2>
                                <p className="text-gray-600 mb-4">
                                    A chat interface that opens in a modal overlay.
                                </p>
                                <div className="chat-demo">
                                    <div>
                                        <p className="text-gray-500 mb-2">Modal chat would open when triggered</p>
                                        <p className="text-sm text-gray-400">
                                            Great for "Need help?" buttons or triggered interactions
                                        </p>
                                    </div>
                                </div>
                            </div>

                            {/* Usage Instructions */}
                            <div className="example-section">
                                <h2 className="text-xl font-semibold mb-4">How to Use</h2>
                                <div className="text-gray-600 space-y-3">
                                    <p><strong>1. Install the package:</strong></p>
                                    <code className="block bg-gray-100 p-2 rounded text-sm">npm install @ordify/chat-widget</code>
                                    
                                    <p><strong>2. Import and use:</strong></p>
                                    <code className="block bg-gray-100 p-2 rounded text-sm">
                                        {`import { OrdifyChat } from '@ordify/chat-widget'

<OrdifyChat
  agentId="${config.agentId}"
  apiKey="${config.apiKey}"
  mode="floating"
  position="bottom-right"
/>`}
                                    </code>
                                    
                                    <p><strong>3. Available modes:</strong></p>
                                    <ul className="list-disc list-inside ml-4">
                                        <li><code>mode="floating"</code> - Floating button with popup</li>
                                        <li><code>mode="embedded"</code> - Full-page embedded chat</li>
                                        <li><code>mode="inline"</code> - Inline chat widget</li>
                                        <li><code>mode="modal"</code> - Modal overlay chat</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        ReactDOM.render(<TestPage />, document.getElementById('root'));
    </script>
</body>
</html>
